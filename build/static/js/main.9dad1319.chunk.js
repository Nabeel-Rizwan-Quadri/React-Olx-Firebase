(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{39:function(e,t,c){},42:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(12),r=c(33),a=c.n(r),s=(c(39),c(10)),i=c(0),u=c.n(i),o=c(1),j=c(24),l=c(34),b=c(29),d=c(17),O=c(25);Object(l.a)({apiKey:"AIzaSyCABm4So3ommIUzXhKhKCe8oErz87GRFA4",authDomain:"auth-b432f.firebaseapp.com",projectId:"auth-b432f",storageBucket:"auth-b432f.appspot.com",messagingSenderId:"431034569828",appId:"1:431034569828:web:a12d94b9a7866e5cc33b71"});var p=Object(b.b)(),h=Object(d.f)(),f=Object(O.b)();function x(e){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(u.a.mark((function e(t){var c,n,r,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,n=t.password,r=t.fullName,a=t.age,e.next=3,Object(b.a)(p,c,n);case 3:return s=e.sent,i=s.user.uid,e.next=7,Object(d.i)(Object(d.c)(h,"users",i),{fullName:r,email:c,age:a,uid:i});case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(u.a.mark((function e(t,c){var n,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(p,t,c);case 2:return n=e.sent,r=n.user.uid,a=Object(d.c)(h,"users",r),e.next=7,Object(d.d)(a);case 7:return(s=e.sent).exists()?console.log("Loggedin"):console.log("No such document!"),e.abrupt("return",Object(j.a)({uid:r},s.data()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(u.a.mark((function e(t){var c,n,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.images,n=[],r=0;case 3:if(!(r<c.length)){e.next=14;break}return a=Object(O.c)(f,"ads/"+c[r].name),e.next=7,Object(O.d)(a,c[r]);case 7:return e.next=9,Object(O.a)(a);case 9:s=e.sent,n.push(s);case 11:r++,e.next=3;break;case 14:return t.images=n,e.next=17,Object(d.a)(Object(d.b)(h,"ads"),t);case 17:alert("Data added successfully!");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(u.a.mark((function e(t){var c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("firebase searched data: ",t),c=[],!t){e.next=11;break}return console.log("if chala"),n=Object(d.h)(Object(d.b)(h,"ads"),Object(d.j)("title","==",t)),e.next=7,Object(d.e)(n);case 7:e.sent.forEach((function(e){var t=e.data();c.push(t)})),e.next=16;break;case 11:return r=Object(d.h)(Object(d.b)(h,"ads"),Object(d.g)("createdAt","desc")),e.next=14,Object(d.e)(r);case 14:e.sent.forEach((function(e){var t=e.data();c.push(t)}));case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){alert("Successfully logged out"),window.location.reload()}c(42);var S=c(6);var E=function(e){var t=e.updateUser,c=Object(n.useState)(""),r=Object(s.a)(c,2),a=r[0],i=r[1],j=Object(n.useState)(""),l=Object(s.a)(j,2),b=l[0],d=l[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),h=p[0],f=p[1],m=Object(n.useState)(""),v=Object(s.a)(m,2),y=v[0],k=v[1],N=Object(n.useState)("login"),C=Object(s.a)(N,2),w=C[0],E=C[1],A=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({email:a,password:b,fullName:h,age:y});case 3:e.sent,alert("Account successfully created"),E("login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(a,b);case 3:c=e.sent,t(c),alert("Successfully Logged In"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"body",children:Object(S.jsx)("div",{className:"card",children:Object(S.jsxs)(S.Fragment,{children:["login"===w&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"Login"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"email",placeholder:"Enter your email"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter your password"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"button",onClick:I,children:"Login"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"url",onClick:function(){E("signup")},children:"click here for signup"})]}),"signup"===w&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"Sign up"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"name",placeholder:"Enter your name"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return k(e.target.value)},type:"number",placeholder:"Enter your age"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"email",placeholder:"Enter your email"}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter your password"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"button",onClick:A,children:"Sign up"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"url",onClick:function(){E("login")},children:"click here for login"})]})]})})})},A=c(4);c(44);var I=function(e){var t=e.setAllPost,c=e.user,r=Date(Date.now()).slice(0,25),a=Object(n.useState)({uid:c.uid,userName:c.fullName,title:"",description:"",price:"",images:[],createdAt:r}),i=Object(s.a)(a,2),l=i[0],b=i[1],d=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(l);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t){var c="images"===e?t.target.files:t.target.value;b(Object(j.a)(Object(j.a)({},l),{},Object(A.a)({},e,c)))};return console.log("data from createpost",l.images.length),Object(S.jsx)("div",{className:"body",children:Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("p",{children:"TITLE"}),Object(S.jsx)("input",{onChange:function(e){return O("title",e)},placeholder:"Title"}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Description"}),Object(S.jsx)("input",{onChange:function(e){return O("description",e)},placeholder:"Describe the product",type:"string"}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Images"}),Object(S.jsx)("input",{onChange:function(e){return O("images",e)},type:"file"}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Price"}),Object(S.jsx)("input",{onChange:function(e){return O("price",e)},placeholder:"Enter an amount",type:"number"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:d,children:"Submit"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:function(){t()},children:"Back"})]})})},D=c(14);var P=function(e,t,c){var n=e.item;return Object(S.jsxs)("div",{children:[Object(S.jsxs)("h3",{className:"just",children:["Seller Name: ",n.userName]}),Object(S.jsxs)("h2",{className:"just",children:["Product Name: ",n.title]}),Object(S.jsx)("br",{}),Object(S.jsxs)("h4",{className:"just",children:["Descrption: ",n.description]}),Object(S.jsx)("img",{height:"100",width:"100",src:n.images[0]}),Object(S.jsxs)("h3",{className:"just",children:["Price: ",n.price,"/-"]}),Object(S.jsxs)("h4",{className:"just",children:["Created At: ",n.createdAt]})]})};c(45);var L=function(e){var t=e.searchedItem;console.log("Allposts: ",t),Object(n.useEffect)(Object(o.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:c=e.sent,i(c);case 4:case"end":return e.stop()}}),e)}))),[t]);var c=Object(n.useState)([]),r=Object(s.a)(c,2),a=r[0],i=r[1],j=Object(n.useState)([]),l=Object(s.a)(j,2),b=(l[0],l[1]),d=Object(n.useState)(!1),O=Object(s.a)(d,2),p=O[0],h=O[1],f=Object(n.useState)(),x=Object(s.a)(f,2),m=x[0],g=x[1],v=Object(n.useState)(),y=Object(s.a)(v,2),k=y[0],C=y[1],w=Object(n.useState)(),E=Object(s.a)(w,2),A=E[0],I=E[1],L=Object(n.useState)(),F=Object(s.a)(L,2),R=F[0],T=F[1],B=function(e){console.log("Index",e);var t=Object(D.a)(a);t.splice(e,1),b(t),alert("Firebase data deleted")},U=function(){var e=Object(D.a)(a);console.log(e[m].title),e[m].title=k,e[m].description=A,e[m].price=R,b(e),h(!1),alert("Firebase data updated")};return Object(S.jsx)("div",{className:"grid-container",children:a.map((function(e,t){return Object(S.jsxs)("div",{className:"item",children:[Object(S.jsx)(P,{item:e,del:function(){return B(t)},edit:function(){return function(e){console.log(e),h(!0),g(e)}(e.createdAt)}}),p&&m===t&&Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:"Edit Title"}),Object(S.jsx)("input",{onChange:function(e){return C(e.target.value)},placeholder:e.title}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Edit Descrpition"}),Object(S.jsx)("input",{onChange:function(e){return I(e.target.value)},placeholder:e.description}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:"Edit Price"}),Object(S.jsx)("input",{onChange:function(e){return T(e.target.value)},placeholder:e.price}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:U,children:"update"})]})]})}))})};var F=function(e){var t=e.user,c=e.setAllPost,n=t.fullName;return console.log("Edit user data: ",n),Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Edit your information here "}),Object(S.jsx)("p",{children:"Change Full Name"}),Object(S.jsx)("input",{placeholder:n}),Object(S.jsx)("button",{onClick:function(){alert("info eddited")},children:"Edit"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{onClick:c,children:"back"})]})};c(46);var R=function(e){var t=e.user,c=Object(n.useState)("allposts"),r=Object(s.a)(c,2),a=r[0],i=r[1],j=Object(n.useState)(""),l=Object(s.a)(j,2),b=l[0],d=l[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),h=p[0],f=p[1];console.log(t);var x=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(h);case 2:alert("searching: "+h);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){i("allposts")};return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsxs)("div",{className:"headder",children:[Object(S.jsxs)("button",{onClick:function(){i("editInfo")},className:"user",children:["Username: ",t.fullName]}),Object(S.jsx)("button",{className:"logout",onClick:w,children:"Logout"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("h1",{children:"Welcome to the home page"}),Object(S.jsx)("input",{className:"search",placeholder:"Search products by name",onChange:function(e){return f(e.target.value)}}),Object(S.jsx)("button",{className:"searchButton",onClick:x,children:"Search"}),Object(S.jsx)("br",{}),"createad"===a?Object(S.jsx)(I,{setAllPost:m,user:t}):Object(S.jsx)("button",{onClick:function(){i("createad")},children:"Create an AD"}),Object(S.jsx)("button",{onClick:function(){f(""),d("")},children:"Refresh Data"}),"allposts"===a&&Object(S.jsx)(L,{searchedItem:b}),"editInfo"===a&&Object(S.jsx)(F,{user:t,setAllPost:m}),Object(S.jsx)("div",{className:"footer",children:"COPYRIGHT 2021 ALL RIGHTS RESERVED"})]})};c(47);var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1];return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)("header",{className:"",children:c?Object(S.jsx)(R,{user:c}):Object(S.jsx)(E,{updateUser:function(e){r(e)}})})})};a.a.render(Object(S.jsx)(T,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.9dad1319.chunk.js.map