(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{39:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(12),r=n(33),a=n.n(r),s=(n(39),n(10)),u=n(0),i=n.n(u),o=n(1),l=n(21),j=n(34),b=n(29),d=n(14),p=n(25);Object(j.a)({apiKey:"AIzaSyCABm4So3ommIUzXhKhKCe8oErz87GRFA4",authDomain:"auth-b432f.firebaseapp.com",projectId:"auth-b432f",storageBucket:"auth-b432f.appspot.com",messagingSenderId:"431034569828",appId:"1:431034569828:web:a12d94b9a7866e5cc33b71"});var O=Object(b.b)(),h=Object(d.f)(),f=Object(p.b)();function x(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t){var n,c,r,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,c=t.password,r=t.fullName,a=t.age,e.next=3,Object(b.a)(O,n,c);case 3:return s=e.sent,u=s.user.uid,e.next=7,Object(d.i)(Object(d.c)(h,"users",u),{fullName:r,email:n,age:a,uid:u});case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(i.a.mark((function e(t,n){var c,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(O,t,n);case 2:return c=e.sent,r=c.user.uid,a=Object(d.c)(h,"users",r),e.next=7,Object(d.d)(a);case 7:return s=e.sent,console.log(s),s.exists()?console.log("Loggedin"):console.log("No such document!"),e.abrupt("return",Object(l.a)({uid:r},s.data()));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function e(t){var n,c,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.images,c=[],r=0;case 3:if(!(r<n.length)){e.next=14;break}return a=Object(p.c)(f,"ads/"+n[r].name),e.next=7,Object(p.d)(a,n[r]);case 7:return e.next=9,Object(p.a)(a);case 9:s=e.sent,c.push(s);case 11:r++,e.next=3;break;case 14:return t.images=c,e.next=17,Object(d.a)(Object(d.b)(h,"ads"),t);case 17:alert("Data added successfully!");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("firebase searched data: ",t),n=[],!t){e.next=10;break}return c=Object(d.h)(Object(d.b)(h,"ads"),Object(d.j)("title","==",t)),e.next=6,Object(d.e)(c);case 6:e.sent.forEach((function(e){var t=e.data();n.push(t)})),e.next=15;break;case 10:return r=Object(d.h)(Object(d.b)(h,"ads"),Object(d.g)("createdAt","desc")),e.next=13,Object(d.e)(r);case 13:e.sent.forEach((function(e){var t=e.data();n.push(t)}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(i.a.mark((function e(t,n){var c,r,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("firebase edit: ",n),c=[],r={},alert("info eddited"),e.next=6,alert(t.uid);case 6:return a=Object(d.h)(Object(d.b)(h,"users")),e.next=9,Object(d.e)(a);case 9:for(s=e.sent,console.log(s),s.forEach((function(e){var t=e.data();c.push(t)})),u=1;u<c.length;u++)console.log(c[u].uid),c[u].uid==t.uid&&(console.log("if chala"),r=c[u],console.log(c[u]));return console.log(r),r.fullName=n.fullName,r.email=n.email,r.age=n.age,console.log(r),e.next=20,Object(d.i)(Object(d.c)(h,"users",t.uid),r);case 20:alert("Data edited successfully!");case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Firebase data deleted"),e.next=3,alert(t.uid);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Firebase data updated"),e.next=3,alert(t.uid);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){alert("Successfully logged out"),window.location.reload()}n(42);var D=n(6);var P=function(e){var t=e.updateUser,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],u=r[1],l=Object(c.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],p=Object(c.useState)(""),O=Object(s.a)(p,2),h=O[0],f=O[1],g=Object(c.useState)(""),v=Object(s.a)(g,2),y=v[0],k=v[1],w=Object(c.useState)("login"),C=Object(s.a)(w,2),N=C[0],S=C[1],E=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({email:a,password:b,fullName:h,age:y});case 3:e.sent,alert("Account successfully created"),S("login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(a,b);case 3:n=e.sent,t(n),alert("Successfully Logged In"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"body",children:Object(D.jsx)("div",{className:"card",children:Object(D.jsxs)(D.Fragment,{children:["login"===N&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Login"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"email",placeholder:"Enter your email"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter your password"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{className:"button",onClick:A,children:"Login"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{className:"url",onClick:function(){S("signup")},children:"click here for signup"})]}),"signup"===N&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Sign up"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return f(e.target.value)},type:"name",placeholder:"Enter your name"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return k(e.target.value)},type:"number",placeholder:"Enter your age"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"email",placeholder:"Enter your email"}),Object(D.jsx)("br",{}),Object(D.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter your password"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{className:"button",onClick:E,children:"Sign up"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{className:"url",onClick:function(){S("login")},children:"click here for login"})]})]})})})},F=n(4);n(44);var L=function(e){var t=e.setAllPost,n=e.user,r=Date(Date.now()).slice(0,25),a=Object(c.useState)({uid:n.uid,userName:n.fullName,title:"",description:"",price:"",images:[],createdAt:r}),u=Object(s.a)(a,2),j=u[0],b=u[1],d=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(j);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,t){var n="images"===e?t.target.files:t.target.value;b(Object(l.a)(Object(l.a)({},j),{},Object(F.a)({},e,n)))};return console.log("data from createpost",j.images.length),Object(D.jsx)("div",{className:"body",children:Object(D.jsxs)("div",{className:"card",children:[Object(D.jsx)("p",{children:"TITLE"}),Object(D.jsx)("input",{onChange:function(e){return p("title",e)},placeholder:"Title"}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Description"}),Object(D.jsx)("input",{onChange:function(e){return p("description",e)},placeholder:"Describe the product",type:"string"}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Images"}),Object(D.jsx)("input",{onChange:function(e){return p("images",e)},type:"file"}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Price"}),Object(D.jsx)("input",{onChange:function(e){return p("price",e)},placeholder:"Enter an amount",type:"number"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:d,children:"Submit"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:function(){t()},children:"Back"})]})})},R=n(15);var T=function(e,t,n){var c=e.item;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("h3",{className:"just",children:["Seller Name: ",c.userName]}),Object(D.jsxs)("h2",{className:"just",children:["Product Name: ",c.title]}),Object(D.jsx)("br",{}),Object(D.jsxs)("h4",{className:"just",children:["Descrption: ",c.description]}),Object(D.jsx)("img",{height:"100",width:"100",src:c.images[0]}),Object(D.jsxs)("h3",{className:"just",children:["Price: ",c.price,"/-"]}),Object(D.jsxs)("h4",{className:"just",children:["Created At: ",c.createdAt]})]})};n(45);var B=function(e){var t=e.searchedItem;console.log("Allposts: ",t),Object(c.useEffect)(Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)}))),[t]);var n=Object(c.useState)([]),r=Object(s.a)(n,2),a=r[0],u=r[1],l=Object(c.useState)([]),j=Object(s.a)(l,2),b=(j[0],j[1]),d=Object(c.useState)(!1),p=Object(s.a)(d,2),O=p[0],h=p[1],f=Object(c.useState)(),x=Object(s.a)(f,2),g=x[0],m=x[1],v=Object(c.useState)(),y=Object(s.a)(v,2),k=y[0],C=y[1],N=Object(c.useState)(),S=Object(s.a)(N,2),I=S[0],P=S[1],F=Object(c.useState)(),L=Object(s.a)(F,2),B=L[0],U=L[1],z=function(e){console.log("Index",e);var t=Object(R.a)(a);t.splice(e,1),b(t),function(e){E.apply(this,arguments)}()},G=function(){var e=Object(R.a)(a);console.log(e[g].title),e[g].title=k,e[g].description=I,e[g].price=B,b(e),h(!1),function(e){A.apply(this,arguments)}()};return Object(D.jsx)("div",{className:"grid-container",children:a.map((function(e,t){return Object(D.jsxs)("div",{className:"item",children:[Object(D.jsx)(T,{item:e,del:function(){return z(t)},edit:function(){return function(e){console.log(e),h(!0),m(e)}(e.createdAt)}}),O&&g===t&&Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Edit Title"}),Object(D.jsx)("input",{onChange:function(e){return C(e.target.value)},placeholder:e.title}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Edit Descrpition"}),Object(D.jsx)("input",{onChange:function(e){return P(e.target.value)},placeholder:e.description}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Edit Price"}),Object(D.jsx)("input",{onChange:function(e){return U(e.target.value)},placeholder:e.price}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:G,children:"update"})]})]})}))})};var U=function(e){var t=e.user,n=e.setAllPost,r=t.fullName,a=t.email,u=t.age,j=Object(c.useState)({}),b=Object(s.a)(j,2),d=b[0],p=b[1],O=r;console.log("Edit user data: ",r);var h=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,d);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e,t){var n=t.target.value;p(Object(l.a)(Object(l.a)({},d),{},Object(F.a)({},e,n)))};return Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"Edit your information here "}),Object(D.jsx)("h2",{children:"Change Full Name"}),Object(D.jsx)("input",{placeholder:O,onChange:function(e){return f("editedFullName",e)}}),Object(D.jsx)("br",{}),Object(D.jsx)("h2",{children:"Change email"}),Object(D.jsx)("input",{placeholder:a,onChange:function(e){return f("editedEmail",e)}}),Object(D.jsx)("br",{}),Object(D.jsx)("h2",{children:"Change age"}),Object(D.jsx)("input",{placeholder:u,onChange:function(e){return f("editedAge",e)}}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:h,children:"Edit"}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:n,children:"back"})]})};n(46);var z=function(e){var t=e.user,n=Object(c.useState)("allposts"),r=Object(s.a)(n,2),a=r[0],u=r[1],l=Object(c.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],p=Object(c.useState)(""),O=Object(s.a)(p,2),h=O[0],f=O[1];console.log(t);var x=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(h);case 2:alert("searching: "+h);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){u("allposts")};return Object(D.jsxs)("div",{className:"App",children:[Object(D.jsxs)("div",{className:"headder",children:[Object(D.jsxs)("button",{onClick:function(){u("editInfo")},className:"user",children:["Username: ",t.fullName]}),Object(D.jsx)("button",{className:"logout",onClick:I,children:"Logout"}),Object(D.jsx)("br",{})]}),Object(D.jsx)("h1",{children:"Welcome to the home page"}),Object(D.jsx)("input",{className:"search",placeholder:"Search products by name",onChange:function(e){return f(e.target.value)}}),Object(D.jsx)("button",{className:"searchButton",onClick:x,children:"Search"}),Object(D.jsx)("br",{}),"createad"===a?Object(D.jsx)(L,{setAllPost:g,user:t}):Object(D.jsx)("button",{onClick:function(){u("createad")},children:"Create an AD"}),Object(D.jsx)("button",{onClick:function(){f(""),d("")},children:"Refresh Data"}),"allposts"===a&&Object(D.jsx)(B,{searchedItem:b}),"editInfo"===a&&Object(D.jsx)(U,{user:t,setAllPost:g}),Object(D.jsx)("div",{className:"footer",children:"COPYRIGHT 2021 ALL RIGHTS RESERVED"})]})};n(47);var G=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)("header",{className:"",children:n?Object(D.jsx)(z,{user:n}):Object(D.jsx)(P,{updateUser:function(e){r(e)}})})})};a.a.render(Object(D.jsx)(G,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.cfef877d.chunk.js.map